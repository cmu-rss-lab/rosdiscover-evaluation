{"package": "waypoint_follower", "node": "twist_gate", "periodic_behavior": [{"publisher": {"variable": "control_command_pub_"}, "condition": {"kind": "binary-expr", "operator": "||", "lhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "enum-ref", "qualified_name": "TwistGate::CommandMode::REMOTE", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": 2}, "value": {"kind": "int-literal", "literal": 2}}}, "rhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "enum-ref", "qualified_name": "TwistGate::CommandMode::AUTO", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": 1}, "value": {"kind": "int-literal", "literal": 1}}}}, "rate": {"kind": "float-literal", "literal": 100.0}}, {"publisher": {"variable": "state_cmd_pub_"}, "condition": {"kind": "binary-expr", "operator": "&&", "lhs": {"kind": "binary-expr", "operator": "&&", "lhs": {"kind": "binary-expr", "operator": "||", "lhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "enum-ref", "qualified_name": "TwistGate::CommandMode::REMOTE", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": 2}, "value": {"kind": "int-literal", "literal": 2}}}, "rhs": {"kind": "binary-expr", "operator": "||", "lhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "enum-ref", "qualified_name": "TwistGate::CommandMode::AUTO", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": 1}, "value": {"kind": "int-literal", "literal": 1}}}, "rhs": {"kind": "negate-expr", "subExpr": {"kind": "binary-expr", "operator": "!=", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::previous_command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}}}}}, "rhs": {"kind": "variable-reference", "qualified_name": "emergency_flag", "type": "bool", "initial-value": {"kind": "bool-literal", "literal": false}}}, "rhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::send_emergency_cmd", "type": "bool", "initial-value": {"kind": "bool-literal", "literal": false}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "bool-literal", "literal": false}}}, "rate": {"kind": "float-literal", "literal": 100.0}}, {"publisher": {"variable": "emergency_stop_pub_"}, "condition": {"kind": "binary-expr", "operator": "&&", "lhs": {"kind": "binary-expr", "operator": "||", "lhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "enum-ref", "qualified_name": "TwistGate::CommandMode::REMOTE", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": 2}, "value": {"kind": "int-literal", "literal": 2}}}, "rhs": {"kind": "binary-expr", "operator": "||", "lhs": {"kind": "binary-expr", "operator": "==", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "enum-ref", "qualified_name": "TwistGate::CommandMode::AUTO", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": 1}, "value": {"kind": "int-literal", "literal": 1}}}, "rhs": {"kind": "negate-expr", "subExpr": {"kind": "binary-expr", "operator": "!=", "lhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::previous_command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, "rhs": {"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}}}}}, "rhs": {"kind": "variable-reference", "qualified_name": "emergency_flag", "type": "bool", "initial-value": {"kind": "bool-literal", "literal": false}}}, "rate": {"kind": "float-literal", "literal": 100.0}}], "reactive_behavior": [{"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::brake_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::ctrl_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::lamp_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::accel_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::auto_cmd_twist_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::steer_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::gear_cmd_callback"}}, {"publisher": {"variable": "vehicle_cmd_pub_"}, "subscriber": {"callback": "TwistGate::remote_cmd_callback"}}], "potential_state_vars": [{"kind": "member-var-ref", "qualified_name": "TwistGate::command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}, {"kind": "member-var-ref", "qualified_name": "TwistGate::send_emergency_cmd", "type": "bool", "initial-value": {"kind": "bool-literal", "literal": false}, "base": {"kind": "this-expr"}}, {"kind": "variable-reference", "qualified_name": "emergency_flag", "type": "bool", "initial-value": {"kind": "bool-literal", "literal": false}}, {"kind": "member-var-ref", "qualified_name": "std_msgs::Bool_<std::allocator<void>>::data", "type": "unsupported", "initial-value": {"kind": "bool-literal", "literal": false}, "base": {"kind": "member-var-ref", "qualified_name": "TwistGate::emergency_stop_msg_", "type": "unsupported", "initial-value": {"kind": "unknown"}, "base": {"kind": "this-expr"}}}, {"kind": "member-var-ref", "qualified_name": "TwistGate::previous_command_mode_", "type": "unsupported", "initial-value": {"kind": "int-literal", "literal": "1"}, "base": {"kind": "this-expr"}}], "transitions": [{"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::brake_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::lamp_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::accel_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::gear_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::steer_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::auto_cmd_twist_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "True", "callback": "TwistGate::remote_cmd_callback", "state_changes": [{"variable": "std_msgs::Bool_<std::allocator<void>>::data", "new_value": "unknown.autoware_msgs::RemoteCmd_<std::allocator<void>>::vehicle_cmd.autoware_msgs::VehicleCmd_<std::allocator<void>>::emergency"}, {"variable": "TwistGate::command_mode_", "new_value": "unknown.autoware_msgs::RemoteCmd_<std::allocator<void>>::control_mode"}], "outputs": []}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::REMOTE := 2", "callback": "TwistGate::remote_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "message", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "callback": "TwistGate::ctrl_cmd_callback", "state_changes": [], "outputs": [{"publisher": {"variable": "vehicle_cmd_pub_"}}]}, {"type": "interval", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::REMOTE := 2 || this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1", "interval": "100.0Hz", "state_changes": [], "outputs": [{"publisher": {"variable": "control_command_pub_"}}]}, {"type": "interval", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::REMOTE := 2 || this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1 || !this.TwistGate::previous_command_mode_ != this.TwistGate::command_mode_ && emergency_flag && this.TwistGate::send_emergency_cmd == False", "interval": "100.0Hz", "state_changes": [], "outputs": [{"publisher": {"variable": "state_cmd_pub_"}}]}, {"type": "interval", "condition": "this.TwistGate::command_mode_ == TwistGate::CommandMode::REMOTE := 2 || this.TwistGate::command_mode_ == TwistGate::CommandMode::AUTO := 1 || !this.TwistGate::previous_command_mode_ != this.TwistGate::command_mode_ && emergency_flag", "interval": "100.0Hz", "state_changes": [], "outputs": [{"publisher": {"variable": "emergency_stop_pub_"}}]}], "unclassified_publish": []}