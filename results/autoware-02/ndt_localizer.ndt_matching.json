{"package": "ndt_localizer", "node": "ndt_matching", "periodic_behavior": [], "reactive_behavior": [{"publisher": {"variable": "estimated_vel_mps_pub", "topic": "/estimated_vel_mps"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "estimated_vel_kmph_pub", "topic": "/estimated_vel_kmph"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "predict_pose_pub", "topic": "/predict_pose"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "ndt_pose_pub", "topic": "/ndt_pose"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "current_pose_pub", "topic": "unknown_topic"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "control_pose_pub", "topic": "/control_pose"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "localizer_pose_pub", "topic": "/localizer_pose"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "tf_broadcaster", "topic": "unknown_topic"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "time_ndt_matching_pub", "topic": "/time_ndt_matching"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "estimate_twist_pub", "topic": "/estimate_twist"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "estimated_vel_pub", "topic": "/estimated_vel"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "ndt_stat_pub", "topic": "/ndt_stat"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}, {"publisher": {"variable": "ndt_reliability_pub", "topic": "/ndt_reliability"}, "subscriber": {"callback": "scan_callback", "topic": "points_raw"}}], "potential_state_vars": [{"kind": "variable-reference", "qualified_name": "init_pos_set", "type": "integer", "initial-value": {"kind": "int-literal", "literal": 0}}, {"kind": "variable-reference", "qualified_name": "map_loaded", "type": "integer", "initial-value": {"kind": "int-literal", "literal": 0}}, {"kind": "variable-reference", "qualified_name": "score", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}}, {"kind": "variable-reference", "qualified_name": "_use_gnss", "type": "integer", "initial-value": {"kind": "int-literal", "literal": 1}}, {"kind": "member-var-ref", "qualified_name": "pose::z", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}, "base": {"kind": "variable-reference", "qualified_name": "initial_pose", "type": "unsupported", "initial-value": {"kind": "unknown"}}}, {"kind": "member-var-ref", "qualified_name": "pose::roll", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}, "base": {"kind": "variable-reference", "qualified_name": "initial_pose", "type": "unsupported", "initial-value": {"kind": "unknown"}}}, {"kind": "member-var-ref", "qualified_name": "pose::x", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}, "base": {"kind": "variable-reference", "qualified_name": "initial_pose", "type": "unsupported", "initial-value": {"kind": "unknown"}}}, {"kind": "member-var-ref", "qualified_name": "pose::y", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}, "base": {"kind": "variable-reference", "qualified_name": "initial_pose", "type": "unsupported", "initial-value": {"kind": "unknown"}}}, {"kind": "member-var-ref", "qualified_name": "pose::yaw", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}, "base": {"kind": "variable-reference", "qualified_name": "initial_pose", "type": "unsupported", "initial-value": {"kind": "unknown"}}}, {"kind": "member-var-ref", "qualified_name": "pose::pitch", "type": "float", "initial-value": {"kind": "float-literal", "literal": 0.0}, "base": {"kind": "variable-reference", "qualified_name": "initial_pose", "type": "unsupported", "initial-value": {"kind": "unknown"}}}, {"kind": "variable-reference", "qualified_name": "use_predict_pose", "type": "integer", "initial-value": {"kind": "int-literal", "literal": 0}}], "transitions": [{"type": "message", "condition": "(map_loaded == 0)", "callback": "map_callback", "topic": "points_map", "state_changes": [{"variable": "map_loaded", "new_value": "1"}], "outputs": []}, {"type": "message", "condition": "(_use_gnss != unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::init_pos_gnss)", "callback": "param_callback", "topic": "config/ndt", "state_changes": [{"variable": "init_pos_set", "new_value": "0"}], "outputs": []}, {"type": "message", "condition": "((_use_gnss == 0) && ((_use_gnss == 0) && (init_pos_set == 0)))", "callback": "param_callback", "topic": "config/ndt", "state_changes": [{"variable": "pose::roll", "new_value": "initial_pose.pose::roll"}, {"variable": "pose::y", "new_value": "initial_pose.pose::y"}, {"variable": "pose::x", "new_value": "initial_pose.pose::x"}, {"variable": "pose::y", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::y"}, {"variable": "pose::z", "new_value": "initial_pose.pose::z"}, {"variable": "pose::pitch", "new_value": "initial_pose.pose::pitch"}, {"variable": "pose::y", "new_value": "initial_pose.pose::y"}, {"variable": "pose::yaw", "new_value": "initial_pose.pose::yaw"}, {"variable": "pose::pitch", "new_value": "initial_pose.pose::pitch"}, {"variable": "pose::pitch", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::pitch"}, {"variable": "init_pos_set", "new_value": "1"}, {"variable": "pose::x", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::x"}, {"variable": "pose::roll", "new_value": "initial_pose.pose::roll"}, {"variable": "pose::x", "new_value": "initial_pose.pose::x"}, {"variable": "pose::yaw", "new_value": "initial_pose.pose::yaw"}, {"variable": "pose::z", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::z"}, {"variable": "pose::z", "new_value": "initial_pose.pose::z"}, {"variable": "pose::yaw", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::yaw"}, {"variable": "pose::yaw", "new_value": "initial_pose.pose::yaw"}, {"variable": "pose::pitch", "new_value": "initial_pose.pose::pitch"}, {"variable": "pose::z", "new_value": "initial_pose.pose::z"}, {"variable": "pose::roll", "new_value": "initial_pose.pose::roll"}, {"variable": "pose::y", "new_value": "initial_pose.pose::y"}, {"variable": "pose::x", "new_value": "initial_pose.pose::x"}, {"variable": "pose::roll", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::roll"}], "outputs": []}, {"type": "message", "condition": "(((_use_gnss == 0) && (_use_gnss == 0)) || ((_use_gnss == 0) || ((_use_gnss == 0) || ((_use_gnss == 0) || ((_use_gnss == 0) || (_use_gnss == 0))))))", "callback": "param_callback", "topic": "config/ndt", "state_changes": [{"variable": "init_pos_set", "new_value": "0"}], "outputs": []}, {"type": "message", "condition": "True", "callback": "param_callback", "topic": "config/ndt", "state_changes": [{"variable": "_use_gnss", "new_value": "unknown.runtime_manager::ConfigNdt_<std::allocator<void>>::init_pos_gnss"}], "outputs": []}, {"type": "message", "condition": "((map_loaded == 1) && ((map_loaded == 1) && (init_pos_set == 1)))", "callback": "scan_callback", "topic": "points_raw", "state_changes": [{"variable": "pose::y", "new_value": "unknown"}, {"variable": "pose::x", "new_value": "unknown"}, {"variable": "use_predict_pose", "new_value": "1"}, {"variable": "pose::z", "new_value": "unknown"}, {"variable": "pose::y", "new_value": "(previous_pose.pose::y + offset_y)"}, {"variable": "pose::yaw", "new_value": "(previous_pose.pose::yaw + offset_yaw)"}, {"variable": "pose::y", "new_value": "(((unknown * unknown) + (unknown * unknown)) + current_pose.pose::y)"}, {"variable": "use_predict_pose", "new_value": "0"}, {"variable": "pose::pitch", "new_value": "current_pose.pose::pitch"}, {"variable": "pose::z", "new_value": "unknown"}, {"variable": "use_predict_pose", "new_value": "0"}, {"variable": "pose::z", "new_value": "(previous_pose.pose::z + offset_z)"}, {"variable": "pose::x", "new_value": "(((unknown * unknown) + (unknown * unknown)) + current_pose.pose::x)"}, {"variable": "pose::pitch", "new_value": "previous_pose.pose::pitch"}, {"variable": "score", "new_value": "unknown"}, {"variable": "pose::roll", "new_value": "previous_pose.pose::roll"}, {"variable": "pose::yaw", "new_value": "(current_pose.pose::yaw - ((angle / 180.0) * 3.141592653589793))"}, {"variable": "pose::y", "new_value": "unknown"}, {"variable": "pose::roll", "new_value": "current_pose.pose::roll"}, {"variable": "pose::z", "new_value": "(current_pose.pose::z - control_shift_z)"}, {"variable": "pose::x", "new_value": "(previous_pose.pose::x + offset_x)"}, {"variable": "pose::x", "new_value": "unknown"}], "outputs": [{"publisher": {"variable": "current_pose_pub", "topic": "unknown_topic"}}, {"publisher": {"variable": "control_pose_pub", "topic": "/control_pose"}}, {"publisher": {"variable": "ndt_pose_pub", "topic": "/ndt_pose"}}, {"publisher": {"variable": "estimated_vel_mps_pub", "topic": "/estimated_vel_mps"}}, {"publisher": {"variable": "localizer_pose_pub", "topic": "/localizer_pose"}}, {"publisher": {"variable": "predict_pose_pub", "topic": "/predict_pose"}}, {"publisher": {"variable": "tf_broadcaster", "topic": "unknown_topic"}}, {"publisher": {"variable": "ndt_stat_pub", "topic": "/ndt_stat"}}, {"publisher": {"variable": "ndt_reliability_pub", "topic": "/ndt_reliability"}}, {"publisher": {"variable": "estimate_twist_pub", "topic": "/estimate_twist"}}, {"publisher": {"variable": "estimated_vel_pub", "topic": "/estimated_vel"}}, {"publisher": {"variable": "estimated_vel_kmph_pub", "topic": "/estimated_vel_kmph"}}, {"publisher": {"variable": "time_ndt_matching_pub", "topic": "/time_ndt_matching"}}]}, {"type": "message", "condition": "(((map_loaded == 1) && ((map_loaded == 1) && (init_pos_set == 1))) && (!(unknown == NULL)))", "callback": "scan_callback", "topic": "points_raw", "state_changes": [{"variable": "pose::roll", "new_value": "current_pose.pose::roll"}, {"variable": "pose::z", "new_value": "current_pose.pose::z"}, {"variable": "pose::pitch", "new_value": "current_pose.pose::pitch"}, {"variable": "pose::y", "new_value": "current_pose.pose::y"}, {"variable": "pose::yaw", "new_value": "current_pose.pose::yaw"}, {"variable": "pose::x", "new_value": "current_pose.pose::x"}], "outputs": []}, {"type": "message", "condition": "(((map_loaded == 1) && ((map_loaded == 1) && (init_pos_set == 1))) && (!(use_predict_pose == 0)))", "callback": "scan_callback", "topic": "points_raw", "state_changes": [{"variable": "pose::x", "new_value": "predict_pose.pose::x"}, {"variable": "pose::y", "new_value": "predict_pose.pose::y"}, {"variable": "pose::pitch", "new_value": "predict_pose.pose::pitch"}, {"variable": "pose::yaw", "new_value": "predict_pose.pose::yaw"}, {"variable": "pose::roll", "new_value": "predict_pose.pose::roll"}, {"variable": "pose::z", "new_value": "predict_pose.pose::z"}], "outputs": []}, {"type": "message", "condition": "(((map_loaded == 1) && ((map_loaded == 1) && (init_pos_set == 1))) && (use_predict_pose == 0))", "callback": "scan_callback", "topic": "points_raw", "state_changes": [{"variable": "pose::x", "new_value": "ndt_pose.pose::x"}, {"variable": "pose::pitch", "new_value": "ndt_pose.pose::pitch"}, {"variable": "pose::yaw", "new_value": "ndt_pose.pose::yaw"}, {"variable": "pose::y", "new_value": "ndt_pose.pose::y"}, {"variable": "pose::roll", "new_value": "ndt_pose.pose::roll"}, {"variable": "pose::z", "new_value": "ndt_pose.pose::z"}], "outputs": []}, {"type": "message", "condition": "True", "callback": "initialpose_callback", "topic": "initialpose", "state_changes": [{"variable": "pose::z", "new_value": "current_pose.pose::z"}, {"variable": "pose::x", "new_value": "current_pose.pose::x"}, {"variable": "pose::x", "new_value": "(unknown.geometry_msgs::PoseWithCovarianceStamped_<std::allocator<void>>::pose.geometry_msgs::PoseWithCovariance_<std::allocator<void>>::pose.geometry_msgs::Pose_<std::allocator<void>>::position.geometry_msgs::Point_<std::allocator<void>>::x + unknown)"}, {"variable": "pose::pitch", "new_value": "current_pose.pose::pitch"}, {"variable": "pose::yaw", "new_value": "current_pose.pose::yaw"}, {"variable": "pose::z", "new_value": "(unknown.geometry_msgs::PoseWithCovarianceStamped_<std::allocator<void>>::pose.geometry_msgs::PoseWithCovariance_<std::allocator<void>>::pose.geometry_msgs::Pose_<std::allocator<void>>::position.geometry_msgs::Point_<std::allocator<void>>::z + unknown)"}, {"variable": "pose::y", "new_value": "(unknown.geometry_msgs::PoseWithCovarianceStamped_<std::allocator<void>>::pose.geometry_msgs::PoseWithCovariance_<std::allocator<void>>::pose.geometry_msgs::Pose_<std::allocator<void>>::position.geometry_msgs::Point_<std::allocator<void>>::y + unknown)"}, {"variable": "pose::roll", "new_value": "current_pose.pose::roll"}, {"variable": "pose::y", "new_value": "current_pose.pose::y"}], "outputs": []}, {"type": "message", "condition": "(((((_use_gnss == 1) && (!((_use_gnss == 1) && (init_pos_set == 0)))) || (!(_use_gnss == 1))) && (((_use_gnss == 1) && (init_pos_set == 0)) || (score >= 500.0))) || ((_use_gnss == 1) && ((_use_gnss == 1) && (init_pos_set == 0))))", "callback": "gnss_callback", "topic": "gnss_pose", "state_changes": [{"variable": "pose::yaw", "new_value": "previous_gnss_pose.pose::yaw"}, {"variable": "pose::yaw", "new_value": "current_gnss_pose.pose::yaw"}, {"variable": "pose::x", "new_value": "previous_gnss_pose.pose::x"}, {"variable": "pose::y", "new_value": "previous_gnss_pose.pose::y"}, {"variable": "pose::pitch", "new_value": "previous_gnss_pose.pose::pitch"}, {"variable": "pose::roll", "new_value": "current_gnss_pose.pose::roll"}, {"variable": "pose::pitch", "new_value": "current_gnss_pose.pose::pitch"}, {"variable": "pose::z", "new_value": "previous_gnss_pose.pose::z"}, {"variable": "pose::roll", "new_value": "previous_gnss_pose.pose::roll"}, {"variable": "pose::z", "new_value": "current_gnss_pose.pose::z"}, {"variable": "pose::x", "new_value": "current_gnss_pose.pose::x"}, {"variable": "init_pos_set", "new_value": "1"}, {"variable": "pose::y", "new_value": "current_gnss_pose.pose::y"}], "outputs": []}, {"type": "message", "condition": "True", "callback": "gnss_callback", "topic": "gnss_pose", "state_changes": [{"variable": "pose::z", "new_value": "current_gnss_pose.pose::z"}, {"variable": "pose::pitch", "new_value": "current_gnss_pose.pose::pitch"}, {"variable": "pose::x", "new_value": "unknown.geometry_msgs::PoseStamped_<std::allocator<void>>::pose.geometry_msgs::Pose_<std::allocator<void>>::position.geometry_msgs::Point_<std::allocator<void>>::x"}, {"variable": "pose::y", "new_value": "unknown.geometry_msgs::PoseStamped_<std::allocator<void>>::pose.geometry_msgs::Pose_<std::allocator<void>>::position.geometry_msgs::Point_<std::allocator<void>>::y"}, {"variable": "pose::y", "new_value": "current_gnss_pose.pose::y"}, {"variable": "pose::roll", "new_value": "current_gnss_pose.pose::roll"}, {"variable": "pose::yaw", "new_value": "current_gnss_pose.pose::yaw"}, {"variable": "pose::x", "new_value": "current_gnss_pose.pose::x"}, {"variable": "pose::z", "new_value": "unknown.geometry_msgs::PoseStamped_<std::allocator<void>>::pose.geometry_msgs::Pose_<std::allocator<void>>::position.geometry_msgs::Point_<std::allocator<void>>::z"}], "outputs": []}], "unclassified_publish": []}